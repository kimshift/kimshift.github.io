---
title: 将项目部署到阿里云服务器
date: 2023-05-31 16:04:27
categories:
  - 教程文章
tags:
  - 网站部署
isShowComments: false
---

## 1.配置好云服务器

购买服务器实例，重置一下密码，记住实例的 IP 地址。

![image-20210507143354917](../../../figure/image-20210507143354917.png)

## 2.利用 xshell 软件连接服务器

1. 新建回话，填写配置

![image-20210507145925814](../../../figure/image-20210507145925814.png)

2. 填写服务器账号密码，账号：root，密码为服务器实例密码

![image-20210507150832489](../../../figure/image-20210507150832489.png)

3. 服务器连接成功

![image-20210507150953534](../../../figure/image-20210507150953534.png)

4. 安装宝塔面板

   ```
   yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh
   ```

   ![image-20210507151708705](../../../figure/image-20210507151708705.png)

输入 y,回车

![image-20210507151755759](../../../figure/image-20210507151755759.png)

安装完成，保存好账号和密码

![image-20210507152033454](../../../figure/image-20210507152033454.png)

★ 如果忘记账号和密码可以输入命令：bt 回车，再输入：14 回车，可以查找

## 3.在阿里云配置安全组

![image-20210507153716721](../../../figure/image-20210507153716721.png)

![image-20210507154712965](../../../figure/image-20210507154712965.png)

## 4.利用宝塔面板搭建环境

1. 打开宝塔面板，复制外网地址到浏览器中打开

   ![image-20210507152527514](../../../figure/image-20210507152527514.png)

2. 登录宝塔面板：账号密码为安装时生成的 username，password

![image-20210507152837578](../../../figure/image-20210507152837578.png)

3. 安装系统环境版本建议使用 php7.2+phpmyAdmin4.4(防止数据库可视化软件打不开)，**可在软件商店中卸载和更换版本**

![image-20210507154144350](../../../figure/image-20210507154144350.png)

等等安装...

![image-20210507154231650](../../../figure/image-20210507154231650.png)

4. 可在宝塔面板软件商店下载其他需要的环境

   **此次教程部署的是 node+vue 搭建的项目,所以安装的相关环境有**:(如果是其他项目可根据自己需求在软件商店进行安装)

   ★ 软件版本可自行在软件商店进行版本更换

   - 代理服务器:Nginx 1.19

- 数据库相关:php7.2+phpmyAdmin4.4+mysql5.7
  - pm2 管理器(已经包含 node+npm+nvm+pm2)

![image-20210507155926327](../../../figure/image-20210507155926327.png)

5. 配置端口

![image-20210507160737602](../../../figure/image-20210507160737602.png)

6. 添加数据库

![image-20210507161209991](../../../figure/image-20210507161209991.png)

7. 将本地数据库脚本导入

![image-20210507161239132](../../../figure/image-20210507161239132.png)

![image-20210507164354143](../../../figure/image-20210507164354143.png)

★ 如果可视化软件 phpmyAdmin 打不开建议更改 php 版本和 phpmyAdmin 版本（php7.2+phpmyAdmin4.4）

8. 登录可视化软件:账号 root,密码:上一步有讲

![image-20210507163825579](../../../figure/image-20210507163825579.png)

![image-20210507164457547](../../../figure/image-20210507164457547.png)

## 5.部署项目

1. 将项目上传到云服务器,首先点击文件进入 www/wwwroot 目录

![image-20210507165512586](../../../figure/image-20210507165512586.png)

2. 上传本地项目

![image-20210507171141091](../../../figure/image-20210507171141091.png)

3. 选择上传的文件,然后上传到服务器

4. 将上传的文件解压

进入文件目录

![image-20210507171846153](../../../figure/image-20210507171846153.png)

复制文件路径,打开 xshell

![image-20210507171959432](../../../figure/image-20210507171959432.png)

进入相应的文件目录,安装项目依赖

![image-20210507172657314](../../../figure/image-20210507172657314.png)

注意:项目数据库连接配置要于服务器的配置要一致

![image-20210507173505434](../../../figure/image-20210507173505434.png)

使用 PM2 运行 node 项目

![image-20210507173525859](../../../figure/image-20210507173525859.png)

也可以使用可视化面板执行项目或者查看进程

![image-20210507175033900](../../../figure/image-20210507175033900.png)

添加映射

![image-20210507200627734](../../../figure/image-20210507200627734.png)

配置 Nginx 反向代理:

![image-20210507200827965](../../../figure/image-20210507200827965.png)
