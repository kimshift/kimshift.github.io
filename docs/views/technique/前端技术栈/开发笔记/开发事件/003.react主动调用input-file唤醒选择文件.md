---
title: react主动调用input-file唤醒选择文件
date: 2023-06-02 19:01:25
categories:
  - 前端开发
tags:
  - javascript
  - 事件
sidebar: false
prev: 002.react umi使用antd自定义icon
next: 004.vue特殊用例
---

> 此组件中包涵一个原生 Input file 元素，它是被隐藏的，当点击我的容器元素的时候，通过 refs 拿到这个 file input 元素，调用该元素的 click()方法直接就调出文件选择对话框。

react 代码示例：

```react
import { Component } from "react";
import ReactDOM from "react-dom";
export default class Demo extends Component {
  handleClick = () => {
    //console.log('点击按钮主动调用input框',this.fileInput.click())
    //需要获取真实的dom元素的点击事件，而不是react实例
    ReactDOM.findDOMNode(this.fileInput).click();
  };
  handleChange = (event) => {
    console.log("测试:", event);
  };
  render() {
    return (
      <div className="container">
        <div onClick={this.handleClick}>按钮</div>
        <input
          id="file"
          type="file"
          name="singlePhoto"
          ref={(el) => (this.fileInput = el)}
          accept="image/*"
          onChange={this.handleChange}
          style={{ display: "none" }}
        />
      </div>
    );
  }
}
```
