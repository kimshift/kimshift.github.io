---
title: 6.本地存储
date: 2023-06-02 10:59:55
categories:
  - 前端开发
tags:
  - javascript
  - js基础
prev: 5.移动端特效
next: ../js进阶/1.js面向对象编程
---

## 1. 本地存储

随着互联网的快速发展，基于网页的应用越来越普遍，同时也变的越来越复杂，为了满足各种各样的需求，会经 常性在本地存储大量的数据，HTML5 规范提出了相关解决方案。

本地存储特性

1. 数据存储在用户浏览器中
2. 设置、读取方便、甚至页面刷新不丢失数据
3. 容量较大，sessionStorage 约 5M、localStorage 约 20M
4. 只能存储字符串，可以将对象 JSON.stringify() 编码后存储

## 2. window.sessionStorage

1. 生命周期为关闭浏览器窗口
2. 在同一个窗口(页面)下数据可以共享
3. 以键值对的形式存储使用

**存储数据**：

```
sessionStorage.setItem(key, value)
```

**获取数据**：

```
sessionStorage.getItem(key)
```

**删除数据**：

```
sessionStorage.removeItem(key)
```

**删除所有数据**

```
sessionStorage.clear()
```

## 3. window.localStorage

1. 声明周期永久生效，除非手动删除 否则关闭页面也会存在
2. 可以多窗口（页面）共享（同一浏览器可以共享）
3. 以键值对的形式存储使用

**存储数据**：

```
localStorage.setItem(key, value)
```

**获取数据**：

```
localStorage.getItem(key)
```

**删除数据**：

```
localStorage.removeItem(key)
```

**删除所有数据**

```
localStorage.clear()
```

## 4.小结

```javascript
//localStorage:关闭浏览器窗口缓存数据不清除
window.localStorage.setItem('goodsInfo', JSON.stringify(obj))
window.localStorage.setItem(key, value) //设置指定 key 的数据（JSON 格式）
window.localStorage.getItem(key) //获取指定 key 的数据
window.localStorage.removeItem(key) //删除指定 key 的数据
window.localStorage.clear() //清空所有的存储数据
//sessionStorage:关闭浏览器窗口缓存数据会被清除
window.sessionStorage.setItem(key, value)
window.sessionStorage.getItem(key)
window.sessionStorage.removeItem(key)
window.sessionStorage.clear()
```
